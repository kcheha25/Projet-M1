index_above_05 = (diameter_bins[:-1] > 0.5)  # Masque booléen correspondant aux fréquences pour les diamètres > 0.5 nm
if len(index_above_05) != len(freqs):
    index_above_05 = index_above_05[:len(freqs)]  # Ajuste la longueur si nécessaire

NP_total_ratio = freqs[index_above_05].sum() / freqs.sum()